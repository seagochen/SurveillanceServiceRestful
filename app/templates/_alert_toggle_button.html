{# 按钮本体：点击时带上本行数据 #}
{% if is_enabled %}
<button class="danger"
        hx-post="/panel/alert/{{ magistrate_id }}/{{ area }}/{{ strategy }}/toggle"
        hx-include="closest tr"
        hx-target="this"
        hx-swap="outerHTML"
        title="無効化します">無効</button>
{% else %}
<button class="success"
        hx-post="/panel/alert/{{ magistrate_id }}/{{ area }}/{{ strategy }}/toggle"
        hx-include="closest tr"
        hx-target="this"
        hx-swap="outerHTML"
        title="有効化します">有効</button>
{% endif %}

{# OOB: 用新状态覆盖同一行的两个输入框；id 必须与 panel 里的完全一致 #}
<input
  class="form-input"
  hx-swap-oob="outerHTML"
  id="{{ area }}_{{ strategy }}_threshold"
  name="{{ area }}_{{ strategy }}_threshold"
  type="number" min="0" step="1"
  value="{{ current_threshold }}"
  {% if not is_enabled %}disabled{% endif %}>

<input
  class="form-input"
  hx-swap-oob="outerHTML"
  id="{{ area }}_{{ strategy }}_penalty_score"
  name="{{ area }}_{{ strategy }}_penalty_score"
  type="number" min="0" step="1"
  value="{{ current_penalty_score }}"
  {% if not is_enabled %}disabled{% endif %}>
